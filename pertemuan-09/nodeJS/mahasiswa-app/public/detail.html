<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Detail Mahasiswa</title>
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,700&display=swap" rel="stylesheet">
  <style>
    body {
      background: #f4f6f8;
      font-family: 'Roboto', sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }
    .card {
      background: #fff;
      padding: 2rem 2.5rem;
      border-radius: 12px;
      box-shadow: 0 4px 24px rgba(0,0,0,0.08);
      min-width: 340px;
    }
    h2 {
      text-align: center;
      margin-bottom: 1.5rem;
      color: #2d3a4b;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 1rem;
    }
    td {
      padding: 0.5rem 0.7rem;
      border-bottom: 1px solid #f0f0f0;
      color: #333;
    }
    td.label {
      font-weight: bold;
      color: #4f8cff;
      width: 40%;
    }
  </style>
</head>
<body>
<div class="card">
  <h2>Detail Mahasiswa</h2>
  <table id="detailTable">
    <tr><td class="label">NPM</td><td id="npm"></td></tr>
    <tr><td class="label">Nama</td><td id="nama"></td></tr>
    <tr><td class="label">Jurusan</td><td id="jurusan"></td></tr>
    <tr><td class="label">Tahun Masuk</td><td id="tahunMasuk"></td></tr>
    <tr><td class="label">Kelas</td><td id="kelas"></td></tr>
  </table>
</div>
<script>
  const urlParams = new URLSearchParams(window.location.search);
  const npm = urlParams.get('npm');
  if (npm) {
    fetch(`http://localhost:3000/mahasiswa/${npm}`)
            .then(res => res.json())
            .then(data => {
              document.getElementById('npm').textContent = data.npm || '-';
              document.getElementById('nama').textContent = data.nama || '-';
              document.getElementById('jurusan').textContent = data.jurusan || '-';
              document.getElementById('tahunMasuk').textContent = data.tahunMasuk || '-';
              document.getElementById('kelas').textContent = data.kelas || '-';
            })
            .catch(() => {
              document.getElementById('detailTable').innerHTML = '<tr><td colspan="2" style="text-align:center;color:red;">Data tidak ditemukan.</td></tr>';
            });
  } else {
    document.getElementById('detailTable').innerHTML = '<tr><td colspan="2" style="text-align:center;color:red;">NPM tidak ditemukan di URL.</td></tr>';
  }
</script>
</body>
</html>